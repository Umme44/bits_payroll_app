<div>
  <form name="editForm" role="form" novalidate (ngSubmit)="save()" [formGroup]="editForm">
    <jhi-header
      [headerName]="!editForm.get('id')!.value ? 'Add New Movement Entry' : 'Edit Movement Entry'"
      [midHeaderName01]="'Movement Entries'"
      [midRouterLinkText01]="'/movement-entry'"
      [shouldHaveHr]="false"
    >
    </jhi-header>

    <div class="card card-body">
      <jhi-alert-error></jhi-alert-error>

      <div class="row">
        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.startDate" for="field_startDate"
              >Start Date</label
            >
            <div class="input-group">
              <input
                id="field_startDate"
                type="date"
                class="form-control"
                name="startDate"
                ngbDatepicker
                #startDateDp="ngbDatepicker"
                formControlName="startDate"
              />
            </div>
            <div *ngIf="editForm.get('startDate')!.invalid && (editForm.get('startDate')!.dirty || editForm.get('startDate')!.touched)">
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('startDate')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.startTime" for="field_startTime"
              >Start Time</label
            >
            <div class="d-flex">
              <input
                id="field_startTime"
                type="datetime-local"
                class="form-control"
                name="startTime"
                formControlName="startTime"
                placeholder="YYYY-MM-DD HH:mm"
              />
            </div>
            <div *ngIf="editForm.get('startTime')!.invalid && (editForm.get('startTime')!.dirty || editForm.get('startTime')!.touched)">
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('startTime')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
              <small
                class="form-text text-danger"
                [hidden]="!editForm.get('startTime')?.errors?.ZonedDateTimelocal"
                jhiTranslate="entity.validation.ZonedDateTimelocal"
              >
                This field should be a date and time.
              </small>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.startNote" for="field_startNote"
              >Start Note</label
            >
            <input type="text" class="form-control" name="startNote" id="field_startNote" formControlName="startNote" />
            <div *ngIf="editForm.get('startNote')!.invalid && (editForm.get('startNote')!.dirty || editForm.get('startNote')!.touched)">
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('startNote')?.errors?.pattern"
              >
                This text is invalid
              </small>
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('startNote')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('startNote')?.errors?.minlength"
                jhiTranslate="entity.validation.minlength"
                [translateValues]="{ min: 3 }"
              >
                This field is required to be at least 3 characters.
              </small>
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('startNote')?.errors?.maxlength"
                jhiTranslate="entity.validation.maxlength"
                [translateValues]="{ max: 250 }"
              >
                This field cannot be longer than 250 characters.
              </small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.endDate" for="field_endDate"
              >End Date</label
            >
            <div class="input-group">
              <input
                id="field_endDate"
                type="date"
                class="form-control"
                name="endDate"
                ngbDatepicker
                #endDateDp="ngbDatepicker"
                formControlName="endDate"
              />
            </div>
            <div *ngIf="editForm.get('endDate')!.invalid && (editForm.get('endDate')!.dirty || editForm.get('endDate')!.touched)">
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('endDate')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.endTime" for="field_endTime"
              >End Time</label
            >
            <div class="d-flex">
              <input
                id="field_endTime"
                type="datetime-local"
                class="form-control"
                name="endTime"
                formControlName="endTime"
                placeholder="YYYY-MM-DD HH:mm"
              />
            </div>
            <div *ngIf="editForm.get('endTime')!.invalid && (editForm.get('endTime')!.dirty || editForm.get('endTime')!.touched)">
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('endTime')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
              <small
                class="form-text text-danger"
                [hidden]="!editForm.get('endTime')?.errors?.ZonedDateTimelocal"
                jhiTranslate="entity.validation.ZonedDateTimelocal"
              >
                This field should be a date and time.
              </small>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.endNote" for="field_endNote"
              >End Note</label
            >
            <input type="text" class="form-control" name="endNote" id="field_endNote" formControlName="endNote" />
            <div *ngIf="editForm.get('endNote')!.invalid && (editForm.get('endNote')!.dirty || editForm.get('endNote')!.touched)">
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('endNote')?.errors?.pattern"
              >
                This text is invalid
              </small>
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('endNote')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('endNote')?.errors?.minlength"
                jhiTranslate="entity.validation.minlength"
                [translateValues]="{ min: 3 }"
              >
                This field is required to be at least 3 characters.
              </small>
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('endNote')?.errors?.maxlength"
                jhiTranslate="entity.validation.maxlength"
                [translateValues]="{ max: 250 }"
              >
                This field cannot be longer than 250 characters.
              </small>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.type" for="field_type">Type</label>
            <select class="form-control" name="type" formControlName="type" id="field_type">
              <option value="MOVEMENT">{{ 'bitsHrPayrollApp.MovementType.MOVEMENT' | translate }}</option>
            </select>
            <div *ngIf="editForm.get('type')!.invalid && (editForm.get('type')!.dirty || editForm.get('type')!.touched)">
              <small class="form-text text-danger" *ngIf="editForm.get('type')?.errors?.required" jhiTranslate="entity.validation.required">
                This field is required.
              </small>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.status" for="field_status"
              >Status</label
            >
            <select class="form-control" name="status" formControlName="status" id="field_status">
              <option value="PENDING">{{ 'bitsHrPayrollApp.Status.PENDING' | translate }}</option>
              <option value="APPROVED">{{ 'bitsHrPayrollApp.Status.APPROVED' | translate }}</option>
              <option value="NOT_APPROVED">{{ 'bitsHrPayrollApp.Status.NOT_APPROVED' | translate }}</option>
            </select>
            <div *ngIf="editForm.get('status')!.invalid && (editForm.get('status')!.dirty || editForm.get('status')!.touched)">
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('status')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-control-label required" jhiTranslate="bitsHrPayrollApp.movementEntry.employee" for="field_employee"
              >Employee</label
            >
            <select class="form-control" id="field_employee" name="employee" formControlName="employeeId">
              <option *ngIf="!editForm.get('employeeId')!.value" [ngValue]="null" selected></option>
              <option [ngValue]="employeeOption.id" *ngFor="let employeeOption of employees; trackBy: trackById">
                {{ employeeOption.id }}
              </option>
            </select>
            <div *ngIf="editForm.get('employeeId')!.invalid && (editForm.get('employeeId')!.dirty || editForm.get('employeeId')!.touched)">
              <small
                class="form-text text-danger"
                *ngIf="editForm.get('employeeId')?.errors?.required"
                jhiTranslate="entity.validation.required"
              >
                This field is required.
              </small>
            </div>
          </div>
        </div>
      </div>

      <div>
        <button type="button" id="cancel-save" class="btn btn-secondary" (click)="previousState()">
          <fa-icon icon="ban"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
        </button>

        <button type="submit" id="save-entity" [disabled]="editForm.invalid || isSaving" class="btn btn-primary">
          <fa-icon icon="save"></fa-icon>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
        </button>
      </div>
    </div>
  </form>
</div>
